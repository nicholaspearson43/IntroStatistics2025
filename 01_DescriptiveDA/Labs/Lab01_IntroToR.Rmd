---
title: "Introduction to R"
author: "Nicholas Pearson"
date: "September 2025"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
show_chunks<-TRUE
```

## Introduction
**R** is an **open-source statistical language**, developed by two statisticians from the University of Auckland. It is now widely used in the world of statistics and data science. For more details, see R Project About Page (`www.r-project.org/about.html`).

Some notable characteristics of R include:

-   A powerful, flexible, and free (open source) language specifically designed for statistical analysis.
-   There is a collection of packages created by R users that allow its functionality to be extended and implement more modern analysis techniques.

Using R can be made easier through **R Studio**. R Studio is an integrated development environment (IDE) designed to facilitate the writing, management, and execution of R code.

### Before we begin... Let's Install R!

To get started, we need to download R. We will use the CRAN (Comprehensive R Archive Network) for this purpose.

-   **Windows Users**: `cran.r-project.org/bin/windows/base/`
-   **Mac Users**: `cran.r-project.org/bin/macosx/`
-   **Linux Users**: `cran.r-project.org/bin/linux/`

By clicking on the respective links, you will download the installation files for R (**`win.exe`** for Windows users, **`.pkg`** for Mac users). At both links, you will find useful installation instructions and support information.

### We're almost there... Let's Install R Studio!

To install **R Studio**: [`www.rstudio.com/products/rstudio/download.`]{.underline}

> ###### **N.B**. If someone has already previously installed R Studio, following the procedure will allow you to install the latest version without having to remove the previous one.

\newpage

**R Studio Structure:**

1.   **Source or Editor**: This is where R code is written. Writing code here offers various functionalities, including the ability to save code (R script).

2.   **Console**: R code is executed here. You can run not only the code written in the editor but also enter commands directly. This allows you to test and run code quickly.

3.  **Environment/History**:

    - The environment displays the variables and objects currently present in the R session, allowing you to view and manage variables.
    - The history panel contains a history of commands executed in the current session, enabling the repetition or modification of previous commands.

4.  **Files / Plots / Packages / Help**:

    - **Files**: Provides a view of files and directories in the working area. You can navigate folders and view files directly from here.
    - **Plots**: Displays graphs and figures generated during analysis. It allows you to explore and save the created plots.
    - **Packages**: Shows the R packages installed in the environment and also allows for their management (installation/removal of packages).
    - **Help**: Provides access to R documentation, including packages and functions. It allows you to search for reference information and get help with R syntax.

These four panels constitute the basic interface of R Studio, which you can customize and organize according to your preferences.

## Let's Get Started!

Before we begin writing R code, it's important to address a few aspects related to writing it:

-   Save our script: **`File -> Save as`**

-   **Working Directory**:

    -   Check the **`path -> getwd()`**
    -   Default --\> project directory or the directory in which the application was launched
    -   To change the **`path -> setwd("path/to/new/directory")`** or **`Session -> Set Working Directory -> Choose Directory`**

> ###### **N.B.** The working directory is important because R will look for or save files inside it when file read or write operations are used. For completeness, it is advisable to create an R project for each task, which is an organizational structure that allows for efficient management of all elements associated with a specific data analysis project. In this way, it will be easier to organize files, manage the environment, and libraries.

\newpage

### Basic Function in R

In R, objects are created by assigning a value or a series of values to a name (identifier) using the **assignment operator (`<-`)**:

```{r}
a <- 2
b <- 1:10
```
To print the value of an object, you can simply type its name in the console:
```{r}
a
```
```{r}
b
```
R will automatically evaluate and display the values. You can also use the `print()` function explicitly:
```{r}
print(a)
print(b)
```

> ###### **N.B.** Typing the variable name works interactively in the console, but inside loops, functions, or scripts, you usually need to use `print()` to make the output appear.

To obtain information about the objects within the workspace, you can use the command **`ls()`**. To delete an object, simply use **`rm(object_to_be_deleted)`**:

```{r}
#object list
ls()

#removing object a
rm(a)

#delete all objects in the environment
rm(list=ls())
```

One of the most basic functions that R can perform is that of a simple calculator. Below are some simple mathematical operations in R:

```{r}
#Addition
3+5
#Subtraction
3-5
#Multiplication
3*5
#Division
3/5

#Integer division 
10 %/% 3 
#Modul division
10 %% 3 #modul division

#Exponent
2^3 
2**3
#Square root
sqrt(4)
#Absolute value
abs(-3)

#Rounding
round(3.14159, 2)
#Floor
floor(1.2548)


#Logarithms
log(10)
log2(8)
log(8,2) #8 = value 2 = base
#Exponential
exp(2)

#Trigonometric functions

sin(pi/2)
cos(3)
tan(4)
```

Previously, some functions were used, and if you are interested in getting details about a function, you can use the **`help`**:

```{r}
#help("read.table")

#or

#?read.table
#?log

#
#?"%%"
```

Finally, if you want to **exclude** a part of the code or **add notes**, you can add the hashtag (**\#**) before text or code line.

\newpage

### Exercises
1. Calculate the following: 7 + 3 - 5 * 2, (7 + 3) - (5 * 2) (check the results)
```{r, echo=FALSE, results='hide'}
7+3-5*2
```
```{r, echo=FALSE, results='hide'}
(7+3)-(5*2)
```

2. Calculate 31 times 8 and 697 divided by 41
```{r, echo=FALSE, results='hide'}
31*8
```
```{r, echo=FALSE, results='hide'}
697/41
```

3. Assign 31 times 8 to X and 697 divided by 41 to Y
```{r, echo=FALSE, results='hide'}
x<-31*8
```
```{r, echo=FALSE, results='hide'}
y<-697/41
```
4. Calculate the value of Z as X-Y and display the value of Z in the console
```{r, echo=FALSE, results='hide'}
z<-x-y
z
```
5. Use the log function to calculate the base-3 logarithm of 9
```{r, echo=FALSE, results='hide'}
log(9,3)
```
6. Create a scalar X with a value of 5.0359 and apply the floor function; 
 Then try applying the ceiling function, what changes?
```{r, echo=FALSE, results='hide'}
x<-5.0359
floor(x)
ceiling(x)
```
7. Apply the round function to the object created in the previous step round the result to three decimal places.
```{r, echo=FALSE, results='hide'}
round(x,3)
```
8. Calculate the square root of 2345 and calculate the base-2 logarithm of the result
```{r, echo=FALSE, results='hide'}
root<-sqrt(2345)
log2(root)
```
### Data types

**Numbers** are represented through **`numeric`** values, either integers or decimals. All mathematical operations can be performed on this data type.

```{r}
a <- 10
b <- 3 / 10
c <- (a + b) / b
c
```

**`Characters`** refer to data values that represent sequences of text or strings. They must be explicitly enclosed in **quotation marks** to be defined, and naturally, they do not allow the execution of any type of mathematical operation.

```{r}
d <- "1"
e <- "2"
#d+e
```

To get information about the structure of an object, you can use the **`str`** function:

```{r}
str(d)

x <- "ciao"
str(x)
```

There are also **logical values** (`booleans`) that correspond to TRUE or FALSE.
```{r}
x <- TRUE
y <- FALSE

x
y

typeof(x)
```
**Logical operations**
```{r}
#AND
TRUE & FALSE
#OR
TRUE | FALSE
#NEGATION
!TRUE
```
**Comparisons produce Booleans**
```{r}
a <- 5
b <- 10

a > b   # FALSE
a < b   # TRUE
a == 5  # TRUE
a != b  # TRUE
```

Before delving into the examination of data structures, it's useful to understand how to perform object **coercion**, which means transforming it from one data type to another, and how to identify the data type.

```{r}
x <- 3.14
class(x)

y <- as.integer(x)  
class(y)

z <- "a"
as.integer(z)


w <- FALSE
as.numeric(w)

```
### Exercise
Use a logical operator to evaluate if 574 is a multiple of 7
Hint - Take a look at %% operator (?%%)
```{r, echo=FALSE, results='hide'}
574%%7==0
574%/%7
```
\newpage

### Data Structures

In R, a data structure is known as an **object**, which implies a value or a collection of data. Objects are used to store, manipulate, and represent data. Below are the most common objects in R:

-   **Vectors**: Series of elements of the same data type. They can be numeric, character strings, logical (true or false), or other types.

-   **Matrices**: Two-dimensional vectors in which all elements are of the same data type.

-   **Factors**: Objects used to represent categorical data (nominal or ordinal).

-   **Data frames**: Two-dimensional data structures similar to tables in a database or spreadsheet. They can contain columns of different data types. Data frames are often used to represent tabular data.

-   **Lists**: Ordered collections of objects of different data types. They can contain vectors, matrices, data frames, or even other lists. Lists are very flexible and can be used to organize complex data.

-   **Arrays**: Generalizations of matrices with more than two dimensions. They can be used to represent multidimensional data.

Let's try creating some of the mentioned objects together!

\newpage

#### Vectors & Factors

```{r}
# Example 1: Students' grades
student_grades <- c(28, 30, 22, 24, 26, 30, 18)
print(student_grades)

# Access vector element by index (starts from 1, not 0)
student_grades[1]

# Access vector elements by range (extremes included)
student_grades[1:2]

# Vector length
print(length(student_grades))

# I want to identify how many 30s are there in the vector
student_grades == 30
student_grades != 30

# Assign the students with a grade of 30 to the excellent_students vector
excellent_students <- student_grades[student_grades == 30]
others <- student_grades[student_grades != 30]

# Example 2: Daily average temperature
weekly_temperatures <- c(22.5, 23.8, 24.2, 21.7, 25.1, 26.5, 22.9)
print(weekly_temperatures)

# Identify the days when the temperature was below 25 degrees
weekly_temperatures < 25

# How many days was the temperature below 25?
length(weekly_temperatures[weekly_temperatures < 25])

# identify elements which meet a condition and replace them with a value
student_grades[student_grades==18] <- 20
# Example 3: My favorite Netflix series
favorite_series <- c("Peaky Blinders", "Friends", "Lupin")
print(favorite_series)

# Example 4: Italian cities visited (Florence, Rome, Venice, Trieste, Bari)?
cities_visited <- c(TRUE, TRUE, TRUE, TRUE, FALSE)
print(cities_visited)
```
To create numeric vectors, there are **shortcuts** that make their creation easier in some cases:

```{r}
# Create a vector of numbers from 50 to 70

y <- seq(50, 70)
print(y)

# We could achieve the same result like this

y <- 50:70
print(y)

# But if we want the elements to increment by 2 instead of 1

z <- seq(50, 70, 2) #start stop step
print(z)

# If we want to create a vector that repeats the same value:

n_rep <- rep(2, 10)
print(n_rep)

# We can also replicate a vector:

y_rep <- rep(y, 5)
print(y_rep)

# Another interesting thing...
x <- c(2, 3, 5)
w <- c(6, 7, 10)

w_rep <- rep(w, x)
print(w_rep)

```

Now let's move on to factors:

```{r}
# Example 1: Favorite Movie Categories

movie_categories <- c(2, 2, 4, 1, 5, 5, 5, 6, 1, 3, 6, 3, 1, 4)
factor_movie_categories <- factor(movie_categories)
print(factor_movie_categories)

levels(factor_movie_categories) <- c("Action", "Mystery", "Drama", "Romantic", "Comedy", "Science Fiction")
print(factor_movie_categories)

# Alternatively...

movie_categories2 <- factor(c("Mystery", "Mystery", "Romantic", "Action", "Comedy"))
print(movie_categories2)

```
### Exercises

1. Create a vector, named y, containing the following elements  
   8, 3, 5, 7, 6, 6, 8, 9, 2.
```{r, echo=FALSE, results='hide'}
y <- c(8, 3, 5, 7, 6, 6, 8, 9, 2)
```

2. Check if there are values less than 5 in the vector created in the previous step
```{r, echo=FALSE, results='hide'}
y > 5
```

3. If there are values less than 5, create a vector, z, containing them
```{r, echo=FALSE, results='hide'}
z<-y[y>5]
z
```

4. Identify the elements in the vector that have a value less than 5 and replace them with 4
```{r, echo=FALSE, results='hide'}
z[z<5] <- 4
```

5. Create a vector containing the names of 5 types of fruits (Apple, Orange, Pineapple, Kiwi, Mango)
```{r, echo=FALSE, results='hide'}
fruit_vector <- c("Apple", "Orange", "Apple", "Pineapple", "Mango", "Kiwi", "Orange")
```

6. Create a vector containing TRUE, FALSE, TRUE, and 
   then make the F values 0 and the T values 1.
```{r, echo=FALSE, results='hide'}
bool_vector <- c(TRUE, FALSE, TRUE)
numeric_vector <- as.numeric(bool_vector)
```

7. Create a vector containing the values 2, 4, 6, 7, 10, 13 use the modulo operator to evaluate how many values are divisible by 2
```{r, echo=FALSE, results='hide'}
vector <- c(2, 4, 6, 7, 10, 13)
length(vector[vector %% 2 == 0])
```

8. Create a vector X with elements 1, 2, 3, 2, 1 and convert it into a factor. Assign a name to each level as follows: 1=Low, 2=Medium, 3=High
```{r, echo=FALSE, results='hide'}
X <- c(1, 2, 3, 2, 1)
f_X <- factor(X)
print(f_X)

levels(f_X) <- c("Low", "Medium", "High")
print(f_X)
```

9. Create a factor named "reg_ne" containing the regions of Northeast Italy ("Veneto", "FVG", "Trentino Alto-Adige", "Emilia Romagna")
```{r, echo=FALSE, results='hide'}
reg_ne = factor(c("Veneto", "FVG", "Trentino Alto-Adige", "Emilia Romagna"))
print(reg_ne)
```
#### Matrices, Arrays, and Data Frames

Let's start by creating matrices:

```{r}

# Statistics exam for Friends characters

# Creating a matrix of scores
score_matrix <- matrix(c(30, 28, 10, 28, 0, 18, 29, 29, 11, 30, 6, 21), nrow = 6, ncol = 2)
print(score_matrix)

# Assigning column and row names
colnames(score_matrix) <- c("Probability", "Inference")
rownames(score_matrix) <- c("Ross", "Chandler", "Joey", "Monica", "Phoebe", "Rachel")
print(score_matrix)

# Since the characters are American, the scores should be different...
score_matrix <- matrix(c("A+", "A-", "F", "A-", "F", "D", "A", "A", "F", "A+", "F", "C"), nrow = 6, ncol = 2)
print(score_matrix)

# Assigning column and row names
colnames(score_matrix) <- c("Probability", "Inference")
rownames(score_matrix) <- c("Ross", "Chandler", "Joey", "Monica", "Phoebe", "Rachel")

print(score_matrix)

# Extracting only the scores obtained in Probability
scores_probability <- score_matrix[, 1]
as.matrix(scores_probability)

# What scores did Joey get?
joey_scores <- score_matrix[3, ]

# Other ways to create matrices...
num_matrix <- seq(5, 100, 5)
print(num_matrix)

# Setting dimensions:
dim(num_matrix) <- c(5, 4)
print(num_matrix)

```

Let's move on array's:

```{r}
# Creating an array
array <- array(data = c(1, 2, 3, 4, 5, 6), dim = c(2, 3, 2))

# Printing the array
print(array)
```
### Exercises
1. Create a matrix with three rows containing the following elements 2,3,5,7,11,13
```{r, echo=FALSE, results='hide'}
matrix_3rows <- matrix(c(2, 3, 5, 7, 11, 13), nrow = 3)
print(matrix_3rows)
```
2. Create a matrix with three columns containing the following elements 2,3,5,7,11,13
```{r, echo=FALSE, results='hide'}
matrix_3cols <- matrix(c(2, 3, 5, 7, 11, 13), ncol = 3)
print(matrix_3cols)
```
3. Create a 3x3 matrix containing the range of integers between 4 and 20 with increments of 2.
```{r, echo=FALSE, results='hide'}
matrix_3x3 <- matrix(seq(4, 20, by = 2), nrow = 3, ncol = 3)
print(matrix_3x3)
```
3. Create a 4D 2x2x2x2 array filled with random numbers between 1 and 100. Hint: use the sample() function
```{r, echo=FALSE, results='hide'}
array_4D <- array(sample(1:100, 16), dim = c(2, 2, 2, 2))
print(array_4D)
```
4. Create a 3D array with dimensions 2×3×4 containing numbers from 1 to 24. Then extract the  element in position [2, 3, 1]. Then extract all elements from the second row. Then extract all elements in the 1st level of the 3rd dimension.
```{r, echo=FALSE, results='hide'}
arr <- array(1:24, dim = c(2, 3, 4))
print(arr)
element <- arr[2,3,1]
print(element)
second_row <- arr[2, , ]
print(second_row)
slice <- arr[, , 1]
print(slice)
```
Finally, let's look at data frames...

```{r}
# Football Teams Data Frame!

# Creating a data frame of football teams
football_teams <- data.frame(
  Team = c("Juventus", "Milan", "Inter", "Roma", "Napoli"),
  Coach = c("Massimiliano Allegri", "Stefano Pioli", "Simone Inzaghi", "José Mourinho", "Rudi Garcia"),
  League = c("Serie A", "Serie A", "Serie A", "Serie A", "Serie A"),
  Foundation_Year = c(1897, 1899, 1908, 1927, 1926),
  Serie_A_Titles = c(36, 18, 19, 3, 2),
  Champions_League_Titles = c(2, 7, 3, 0, 0)
)

print(football_teams)

# We could also create the data frame differently...

# Direct creation of a data frame
teams <- c("Juventus", "Milan", "Inter", "Roma", "Napoli")
coaches <- c("Massimiliano Allegri", "Stefano Pioli", "Simone Inzaghi", "José Mourinho", "Rudi Garcia")
leagues <- c("Serie A", "Serie A", "Serie A", "Serie A", "Serie A")
foundation_years <- c(1897, 1899, 1908, 1927, 1926)
serie_a_titles <- c(36, 18, 19, 3, 2)
champions_league_titles <- c(2, 7, 3, 0, 0)  

# Creating the data frame by combining columns
football_teams <- data.frame(
  Team = teams,
  Coach = coaches,
  League = leagues,
  Foundation_Year = foundation_years,
  Serie_A_Titles = serie_a_titles,
  Champions_League_Titles = champions_league_titles
)

# Print the data frame
print(football_teams)

# Add a new team to the data frame
fiorentina <- data.frame(
  Team = "Fiorentina",
  Coach = "Vincenzo Italiano",
  League = "Serie A",
  Foundation_Year = 1926,
  Serie_A_Titles = 2,
  Champions_League_Titles = 0
)

# Combine the existing data frame with Fiorentina's data
football_teams <- rbind(football_teams, fiorentina)

# Print the updated data frame
print(football_teams)

# Creating a new column with stadium data
stadiums <- c("Allianz Stadium", "San Siro", "San Siro", "Stadio Olimpico", "Stadio Diego Armando Maradona", "Stadio Artemio Franchi")

# Add the new column to the data frame
football_teams$Stadium = stadiums

# Print the updated data frame
print(football_teams)

# Alternatively, I can use another command
stadiums <- c("Allianz Stadium", "San Siro", "San Siro", "Stadio Olimpico", "Stadio Diego Armando Maradona", "Stadio Artemio Franchi")

# Add the new column to the data frame using cbind
football_teams <- cbind(football_teams, Stadium = stadiums)

print(football_teams)

#Find the coach of Juventus
juve_manager <- football_teams$Coach[football_teams$Team == "Juventus"]
print(juve_manager)
#All coaches
print(football_teams$Coach)
```
1. Execute the following lines of code
```{r, echo=FALSE, results='hide'}
princess <- c("Snow White", "Cinderella", "Aurora", "Ariel", "Belle")
movie <- c("Snow White and the Seven Dwarfs", "Cinderella", "Sleeping Beauty", "The Little Mermaid", "Beauty and the Beast")
year <- c(1937, 1950, 1959, 1989, 1991)
```
2. Define a data frame films with the following columns (movie, year, name)
```{r, echo=FALSE, results='hide'}
films <- data.frame(
  movie = movie,
  year = year,
  princess = princess
  
)
print(films)
```
3. In what year was "Snow White and the Seven Dwarfs" released?
```{r, echo=FALSE, results='hide'}
films$year[films$movie == "Snow White and the Seven Dwarfs"]
```
4. Add a new film: 
movie: "Shrek", 
princess: "Fiona",
year: 2001
```{r, echo=FALSE, results='hide'}
new_film <- data.frame(
  movie = "Shrek",
  princess = "Fiona",
  year = 2001
)
films <- rbind(films, new_film)
print(films)
```
5. Add a new column named IMDb_score with the following values = (8.2, 8.5, 7.8, 7.5, 8.9, 10)
```{r, echo=FALSE, results='hide'}
scores <- c(8.2, 8.5, 7.8, 7.5, 8.9, 10)
films <- cbind(films, IMBd_scores = scores)
```

### Lists
In R, a list is a data structure that can hold elements of different types. This makes lists more flexible than vectors, which require elements of the same type.
```{r}
#Basic list
my_list <- list(10, "apple", TRUE)
my_list
```
**Named lists**
```{r}
#Named list
person <- list(name = "Alice", age = 25, scores = c(90, 85, 88))
person
```
**Accessing elements**
```{r}
my_list[1]
person[1]          # returns a list with 'name'
person[[1]]        # returns "Alice"
person$name        # returns "Alice"
person$scores[2]   # returns 85
```
**List of dataframes**
```{r}
# Creating the Serie A dataframe
serie_a_teams <- data.frame(
  Team = c("Juventus", "Milan", "Inter", "Roma", "Napoli"),
  Coach = c("Massimiliano Allegri", "Stefano Pioli", "Simone Inzaghi", "José Mourinho", "Rudi Garcia"),
  Foundation_Year = c(1897, 1899, 1908, 1927, 1926),
  Serie_A_Titles = c(36, 18, 19, 3, 2)
)
```

```{r}

# Creating the Bundesliga dataframe
bundesliga_teams <- data.frame(
  Team = c("Bayern Munich", "Borussia Dortmund", "RB Leipzig", "Bayer Leverkusen", "Borussia Mönchengladbach"),
  Coach = c("Julian Nagelsmann", "Marco Rose", "Jesse Marsch", "Gerardo Seoane", "Adi Hütter"),
  Foundation_Year = c(1900, 1909, 2009, 1904, 1900),
  Bundesliga_Titles = c(31, 8, 0, 0, 0)
)

# Creating the Premier League dataframe
premier_league_teams <- data.frame(
  Team = c("Manchester United", "Liverpool", "Manchester City", "Chelsea", "Arsenal"),
  Coach = c("Ole Gunnar Solskjær", "Jurgen Klopp", "Pep Guardiola", "Thomas Tuchel", "Mikel Arteta"),
  Foundation_Year = c(1878, 1892, 1880, 1905, 1886),
  Premier_League_Titles = c(20, 19, 7, 5, 3)
)

# Creating a list of dataframes
team_lists <- list(SerieA = serie_a_teams, Bundesliga = bundesliga_teams, PremierLeague = premier_league_teams)

# Print the list of dataframes
print(team_lists)

# If I want to see only Serie A...
team_lists$SerieA

```

## Package Installation and Data Management

A **package** in R is a collection of functions, data, and related documentation. Packages are designed to extend the basic functionality of R, allowing users to perform specific tasks more efficiently and powerfully. The package repository is CRAN, and packages can be installed using the command `install.packages(package name)`. Once the package is installed, you can call it so that it is available in the R environment:

```{r}
# Install the ggplot2 package
# install.packages("ggplot2")

# Call the library
library(ggplot2)

```

Some highly useful and functional packages that I recommend you to install are: `ggplot2, dplyr, tidyr, lubridate.`

> ###### N.B. I suggest taking a look at the **pacman: Package Management Tool package** (<https://cran.r-project.org/web/packages/pacman/index.html>), which allows you to speed up certain operations such as loading multiple packages at the same time.

```{r}
# Install multiple packages at once

# install.packages(c("dplyr", "stringr"))
```

## Data import in R

Importing data into R means taking a dataset from an external source and loading it into the R working environment so that it can be used for further processing. Data can come from various types of sources and can be of different types, but generally, the most common sources are Excel spreadsheets (in .csv and .xlsx formats) and text files (.txt) for local files. The general form for importing data into R is **`read.`**`<format>`, and for saving R files locally, it's **`write.`**`<format>`. Let's see some examples below:

```{r,eval=FALSE}
read.csv("dati_spotify.csv")
```

If we had a dataset in **.xlsx** format, we could use the following command `read.xlsx("file path", sheetName="sheet name")`, from the `openxlsx` package, and in the case of a text file, `read.table("file path", header=TRUE)`.

Now let's try saving a data frame locally:

```{r}

data_frame <- data.frame(
  Name = c("Alice", "Bob", "Elvis", "David", "Thomas"),
  Age = c(25, 30, 22, 35, 28),
  Student = c(TRUE, FALSE, TRUE, FALSE, TRUE)
)

write.table(data_frame, "data_frame.txt", quote = FALSE, sep = "\t")


```

## Dealing with NA's

Let's create a vector with some missing data:

```{r}
# vector with missing data
x <- c(1:3, NA, 20:27, NA)
x
```

to identify missing data we can use `is.na()` which returns a logical vector with `TRUE` in the element locations that contain missing values represented by `NA`; it work on vectors, lists, matrices, and data frames.

```{r}
is.na(x)
```

To identify the location or number of NAN's we can do as follows:

```{r}
# identify location of NAs in vector
which(is.na(x))

# count the number of NAs
sum(is.na(df))

#for dataframes try to use colSums()
```

Sometimes it is useful to recode the NA values or to remove it from data:

```{r}
#replace NA's, a common way is to substitute the mean
x[is.na(x)] <- mean(x, na.rm = TRUE)

#remove NA's
x <- c(1:3, NA, 20:27, NA)
x<- x[!is.na(x)]

#take a look to complete.cases() function or na.omit() for data frames!
```

## If Statement
In R, an `if` statement allows you to run code only when a condition is true.  
Optionally, you can use `else` or `else if` for additional conditions.

```{r}
x <- 5

if (x > 0) {
  print("x is positive")
} else if (x == 0) {
  print("x is zero")
} else {
  print("x is negative")
}
```

## For Loop
A `for loop` in R repeats a block of code for each element in a sequence.
```{r}
numbers <- 1:5

for (i in numbers) {
  print(paste("The number is", i)) #the paste function is used to join text together. Ex: paste("hello", "there") -> "hello there"
}
```

```{r}
fruits <- c("apple", "banana", "cherry")

for (f in fruits) {
  print(paste("I like", f))
}
```

## While Loop
A `while` loop in R keeps running **as long as the condition is TRUE**.  
Be careful to make sure the condition eventually becomes FALSE, otherwise the loop will run forever!
```{r}
# Example: count up from 1 until 5
x <- 1

while (x <= 5) {
  print(paste("x is", x))
  x <- x + 1   # update x so the loop ends
}
```

## Functions in R

In R, a function refers to a block of code that performs a specific action when called or invoked. R has many predefined functions, but it is also possible to create custom functions. Let's try creating a function that allows us to sum three values:

```{r}
new_sum <- function(a,b,c) {
  a+b+c
}

result<-new_sum(1,2,3)
result
```

Now, let's try creating a different function without specifying arguments:

```{r}
cube <- function() {
   for(x in 1:3) {
      print(x^3)
   }
} 

cube()

```

**Explicit return**
```{r}
describe <- function(x) {
  if (x > 0) {
      return("Positive")
  } else if (x < 0) {
      return("Negative")
  }
  "Zero"   # implicitly returned if not caught above
}

describe(10)   # "Positive"
describe(0)    # "Zero"
```

## Exercise
1. Write a function that takes as input the coefficients (a != 0, b, c) of a 2nd degree equation, prints the solutions if they exists, and returns the number of solutions
```{r, echo=FALSE, results='hide'}
solutions <- function(a, b, c){
  delta <- b**2 - 4*a*c
  if (delta > 0){
    x_1 = (-b +delta)/(2*a)
    x_2 = (-b -delta)/(2*a)
    print(paste("Two solutions", x_1, x_2))
    return(2)
  }  else if (delta == 0){
    x = -b/(2*a)
    print(paste("One solution", x))
    return(1)
  }  else{
    print("No solutions")
    return(0)
  }
}

solutions(1, -5, 6)
solutions(1, -4, 4)
solutions(1, 1, 1)
```

